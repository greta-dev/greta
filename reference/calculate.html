<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>calculate greta arrays given fixed values — calculate • greta</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="calculate greta arrays given fixed values — calculate" />
<meta property="og:description" content="Calculate the values that greta arrays would take, given
temporary, or simulated values for the greta arrays on which they depend.
This can be used to check the behaviour of your model, make predictions to
new data after model fitting, or simulate datasets from either the prior or
posterior of your model." />
<meta property="og:image" content="https://greta-stats.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <style type="text/css">
.logo {
    display: inline-block;
    width: 144px;
    height: 40px;
    background-image: url(../reference/figures/name_icon_on_purple.png);
    background-size: 100% auto;
    background-repeat: no-repeat;
    vertical-align: middle;
}
</style>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    <a class="logo" href="../index.html"></a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/get_started.html">get started</a>
</li>
<li>
  <a href="../reference/index.html">docs</a>
</li>
<li>
  <a href="../articles/example_models.html">examples</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/analyses/eight_schools.html">eight schools</a>
    </li>
    <li>
      <a href="../articles/analyses/election_88.html">election 88</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    more
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/webpages/why_greta.html">why 'greta'?</a>
    </li>
    <li>
      <a href="../articles/webpages/technical_details.html">technical details</a>
    </li>
    <li>
      <a href="../articles/webpages/software.html">software</a>
    </li>
    <li>
      <a href="../articles/webpages/contribute.html">contribute to greta</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://forum.greta-stats.org">
    <span class="fas fa-lg fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/greta_stats">
    <span class="fas fa-lg fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/greta-dev/greta">
    <span class="fas fa-lg fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<hr style="height:5px; visibility:hidden;" />

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>calculate greta arrays given fixed values</h1>
    <small class="dont-index">Source: <a href='https://github.com/greta-dev/greta/blob/master/R/calculate.R'><code>R/calculate.R</code></a></small>
    <div class="hidden name"><code>calculate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the values that greta arrays would take, given
temporary, or simulated values for the greta arrays on which they depend.
This can be used to check the behaviour of your model, make predictions to
new data after model fitting, or simulate datasets from either the prior or
posterior of your model.</p>
    </div>

    <pre class="usage"><span class='fu'>calculate</span><span class='op'>(</span>
  <span class='va'>...</span>,
  values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  nsim <span class='op'>=</span> <span class='cn'>NULL</span>,
  seed <span class='op'>=</span> <span class='cn'>NULL</span>,
  precision <span class='op'>=</span> <span class='fu'><a href='extract-replace-combine.html'>c</a></span><span class='op'>(</span><span class='st'>"double"</span>, <span class='st'>"single"</span><span class='op'>)</span>,
  trace_batch_size <span class='op'>=</span> <span class='fl'>100</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>one or more greta_arrays for which to calculate the value</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>a named list giving temporary values of the greta arrays with
which <code>target</code> is connected, or a <code>greta_mcmc_list</code> object
returned by <code><a href='inference.html'>mcmc()</a></code>.</p></td>
    </tr>
    <tr>
      <th>nsim</th>
      <td><p>an optional positive integer scalar for the number of responses
to simulate if stochastic greta arrays are present in the model - see
Details.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>an optional seed to be used in set.seed immediately before the
simulation so as to generate a reproducible sample</p></td>
    </tr>
    <tr>
      <th>precision</th>
      <td><p>the floating point precision to use when calculating values.</p></td>
    </tr>
    <tr>
      <th>trace_batch_size</th>
      <td><p>the number of posterior samples to process at a time
when <code>target</code> is a <code>greta_mcmc_list</code> object; reduce this to
reduce memory demands</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Values of the target greta array(s), given values of the greta arrays
on which they depend (either specified in <code>values</code> or sampled from
their priors). If <code>values</code> is a
<code><a href='inference.html'>greta_mcmc_list()</a></code> and <code>nsim = NULL</code>, this will
be a <code>greta_mcmc_list</code> object of posterior samples for the target
greta arrays. Otherwise, the result will be a named list of numeric R
arrays. If <code>nsim = NULL</code> the dimensions of returned numeric R arrays
will be the same as the corresponding greta arrays, otherwise an additional
dimension with <code>nsim</code> elements will be prepended, to represent
multiple simulations.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The greta arrays named in <code>values</code> need not be variables, they
can also be other operations or even data.</p>
<p>At present, if <code>values</code> is a named list it must contain values for
<em>all</em> of the variable greta arrays with which <code>target</code> is
connected, even values are given for intermediate operations, or the target
doesn't depend on the variable. That may be relaxed in a future release.</p>
<p>If the model contains stochastic greta arrays; those with a distribution,
calculate can be used to sample from these distributions (and all greta
arrays that depend on them) by setting the <code>nsim</code> argument to a
positive integer for the required number of samples. If <code>values</code> is
specified (either as a list of fixed values or as draws), those values will
be used, and remaining variables will be sampled conditional on them.
Observed data with distributions (i.e. response variables defined with
<code><a href='distribution.html'>distribution()</a></code> can also be sampled, provided they are defined as
greta arrays. This behaviour can be used for a number of tasks, like
simulating datasets for known parameter sets, simulating parameters and
data from a set of priors, or simulating datasets from a model posterior.
See some examples of these below.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># define a variable greta array, and another that is calculated from it</span>
<span class='co'># then calculate what value y would take for different values of x</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>normal</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, dim <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>lognormal</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>a</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='extract-replace-combine.html'>c</a></span><span class='op'>(</span><span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span><span class='op'>)</span>, a <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># by setting nsim, you can also sample values from their priors</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, nsim <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>

<span class='co'># you can combine sampling and fixed values</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>, nsim <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>

<span class='co'># if the greta array only depends on data,</span>
<span class='co'># you can pass an empty list to values (this is the default)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='structures.html'>ones</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span>

<span class='co'># define a model</span>
<span class='va'>alpha</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>normal</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>beta</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>normal</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>sigma</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>lognormal</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>0.1</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as_data.html'>as_data</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Width</span><span class='op'>)</span>
<span class='va'>mu</span> <span class='op'>&lt;-</span> <span class='va'>alpha</span> <span class='op'>+</span> <span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Length</span> <span class='op'>*</span> <span class='va'>beta</span>
<span class='fu'><a href='distribution.html'>distribution</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='distributions.html'>normal</a></span><span class='op'>(</span><span class='va'>mu</span>, <span class='va'>sigma</span><span class='op'>)</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='model.html'>model</a></span><span class='op'>(</span><span class='va'>alpha</span>, <span class='va'>beta</span>, <span class='va'>sigma</span><span class='op'>)</span>

<span class='co'># sample values of the parameters, or different observation data (y), from</span>
<span class='co'># the priors (useful for prior # predictive checking) - see also</span>
<span class='co'># ?simulate.greta_model</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>alpha</span>, <span class='va'>beta</span>, <span class='va'>sigma</span>, nsim <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, nsim <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>

<span class='co'># calculate intermediate greta arrays, given some parameter values (useful</span>
<span class='co'># for debugging models)</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, beta <span class='op'>=</span> <span class='fl'>2</span>, sigma <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, beta <span class='op'>=</span> <span class='fl'>0.2</span>, sigma <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># simulate datasets given fixed parameter values</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, beta <span class='op'>=</span> <span class='fl'>0.2</span>, sigma <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>, nsim <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>

<span class='co'># you can use calculate in conjunction with posterior samples from MCMC, e.g.</span>
<span class='co'># sampling different observation datasets, given a random set of these</span>
<span class='co'># posterior samples - useful for posterior predictive model checks</span>
<span class='va'>draws</span> <span class='op'>&lt;-</span> <span class='fu'><a href='inference.html'>mcmc</a></span><span class='op'>(</span><span class='va'>m</span>, n_samples <span class='op'>=</span> <span class='fl'>500</span><span class='op'>)</span>
<span class='fu'>calculate</span><span class='op'>(</span><span class='va'>y</span>, values <span class='op'>=</span> <span class='va'>draws</span>, nsim <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>

<span class='co'># you can use calculate on greta arrays created even after the inference on</span>
<span class='co'># the model - e.g. to plot response curves</span>
<span class='va'>petal_length_plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Length</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Length</span><span class='op'>)</span>,
  length.out <span class='op'>=</span> <span class='fl'>100</span>
<span class='op'>)</span>
<span class='va'>mu_plot</span> <span class='op'>&lt;-</span> <span class='va'>alpha</span> <span class='op'>+</span> <span class='va'>petal_length_plot</span> <span class='op'>*</span> <span class='va'>beta</span>
<span class='va'>mu_plot_draws</span> <span class='op'>&lt;-</span> <span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu_plot</span>, values <span class='op'>=</span> <span class='va'>draws</span><span class='op'>)</span>
<span class='va'>mu_est</span> <span class='op'>&lt;-</span> <span class='fu'><a href='overloaded.html'>colMeans</a></span><span class='op'>(</span><span class='va'>mu_plot_draws</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mu_est</span> <span class='op'>~</span> <span class='va'>petal_length_plot</span>,
  type <span class='op'>=</span> <span class='st'>"n"</span>,
  ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/range.html'>range</a></span><span class='op'>(</span><span class='va'>mu_plot_draws</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'><a href='overloaded.html'>apply</a></span><span class='op'>(</span><span class='va'>mu_plot_draws</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>, <span class='fl'>1</span>, <span class='va'>lines</span>,
  x <span class='op'>=</span> <span class='va'>petal_length_plot</span>, col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/gray.html'>grey</a></span><span class='op'>(</span><span class='fl'>0.8</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span><span class='op'>(</span><span class='va'>mu_est</span> <span class='op'>~</span> <span class='va'>petal_length_plot</span>, lwd <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

<span class='co'># trace_batch_size can be changed to trade off speed against memory usage</span>
<span class='co'># when calculating. These all produce the same result, but have increasing</span>
<span class='co'># memory requirements:</span>
<span class='va'>mu_plot_draws_1</span> <span class='op'>&lt;-</span> <span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu_plot</span>,
  values <span class='op'>=</span> <span class='va'>draws</span>,
  trace_batch_size <span class='op'>=</span> <span class='fl'>1</span>
<span class='op'>)</span>
<span class='va'>mu_plot_draws_10</span> <span class='op'>&lt;-</span> <span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu_plot</span>,
  values <span class='op'>=</span> <span class='va'>draws</span>,
  trace_batch_size <span class='op'>=</span> <span class='fl'>10</span>
<span class='op'>)</span>
<span class='va'>mu_plot_draws_inf</span> <span class='op'>&lt;-</span> <span class='fu'>calculate</span><span class='op'>(</span><span class='va'>mu_plot</span>,
  values <span class='op'>=</span> <span class='va'>draws</span>,
  trace_batch_size <span class='op'>=</span> <span class='cn'>Inf</span>
<span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'fa1406e0044eae29be11408a723039e7',
    indexName: 'greta',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


